{"ast":null,"code":"import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom(_ref) {\n  var swiper = _ref.swiper,\n    extendParams = _ref.extendParams,\n    on = _ref.on,\n    emit = _ref.emit;\n  var window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  var currentScale = 1;\n  var isScaling = false;\n  var gesturesEnabled;\n  var fakeGestureTouched;\n  var fakeGestureMoved;\n  var gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  var image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  var velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  var scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get: function get() {\n      return scale;\n    },\n    set: function set(value) {\n      if (scale !== value) {\n        var imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        var slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n      scale = value;\n    }\n  });\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    var x1 = e.targetTouches[0].pageX;\n    var y1 = e.targetTouches[0].pageY;\n    var x2 = e.targetTouches[1].pageX;\n    var y2 = e.targetTouches[1].pageY;\n    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    return distance;\n  } // Events\n\n  function onGestureStart(e) {\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(\".\".concat(swiper.params.slideClass));\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(\".\".concat(params.containerClass)).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\".concat(params.containerClass));\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n    isScaling = true;\n  }\n  function onGestureChange(e) {\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + Math.pow(zoom.scale - gesture.maxRatio + 1, 0.5);\n    }\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - Math.pow(params.minRatio - zoom.scale + 1, 0.5);\n    }\n    gesture.$imageEl.transform(\"translate3d(0,0,0) scale(\".concat(zoom.scale, \")\"));\n  }\n  function onGestureEnd(e) {\n    var device = swiper.device;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(\"translate3d(0,0,0) scale(\".concat(zoom.scale, \")\"));\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n  function onTouchStart(e) {\n    var device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n  function onTouchMove(e) {\n    var zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - Math.pow(image.minX - image.currentX + 1, 0.8);\n    }\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + Math.pow(image.currentX - image.maxX + 1, 0.8);\n    }\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - Math.pow(image.minY - image.currentY + 1, 0.8);\n    }\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + Math.pow(image.currentY - image.maxY + 1, 0.8);\n    } // Velocity\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(\"translate3d(\".concat(image.currentX, \"px, \").concat(image.currentY, \"px,0)\"));\n  }\n  function onTouchEnd() {\n    var zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n    image.isTouched = false;\n    image.isMoved = false;\n    var momentumDurationX = 300;\n    var momentumDurationY = 300;\n    var momentumDistanceX = velocity.x * momentumDurationX;\n    var newPositionX = image.currentX + momentumDistanceX;\n    var momentumDistanceY = velocity.y * momentumDurationY;\n    var newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(\"translate3d(\".concat(image.currentX, \"px, \").concat(image.currentY, \"px,0)\"));\n  }\n  function onTransitionEnd() {\n    var zoom = swiper.zoom;\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n  function zoomIn(e) {\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(\".\".concat(swiper.params.slideClass));\n      }\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(\".\".concat(swiper.params.slideActiveClass));\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n      gesture.$imageEl = gesture.$slideEl.find(\".\".concat(params.containerClass)).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\".concat(params.containerClass));\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n    gesture.$slideEl.addClass(\"\".concat(params.zoomedSlideClass));\n    var touchX;\n    var touchY;\n    var offsetX;\n    var offsetY;\n    var diffX;\n    var diffY;\n    var translateX;\n    var translateY;\n    var imageWidth;\n    var imageHeight;\n    var scaledWidth;\n    var scaledHeight;\n    var translateMinX;\n    var translateMinY;\n    var translateMaxX;\n    var translateMaxY;\n    var slideWidth;\n    var slideHeight;\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n    gesture.$imageWrapEl.transition(300).transform(\"translate3d(\".concat(translateX, \"px, \").concat(translateY, \"px,0)\"));\n    gesture.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(\".concat(zoom.scale, \")\"));\n  }\n  function zoomOut() {\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(\".\".concat(swiper.params.slideActiveClass));\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n      gesture.$imageEl = gesture.$slideEl.find(\".\".concat(params.containerClass)).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\".concat(params.containerClass));\n    }\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(\"\".concat(params.zoomedSlideClass));\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n  function zoomToggle(e) {\n    var zoom = swiper.zoom;\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n  function getListeners() {\n    var support = swiper.support;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener: passiveListener,\n      activeListenerWithCapture: activeListenerWithCapture\n    };\n  }\n  function getSlideSelector() {\n    return \".\".concat(swiper.params.slideClass);\n  }\n  function toggleGestures(method) {\n    var _getListeners = getListeners(),\n      passiveListener = _getListeners.passiveListener;\n    var slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n  function enable() {\n    var zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    var support = swiper.support;\n    var _getListeners2 = getListeners(),\n      passiveListener = _getListeners2.passiveListener,\n      activeListenerWithCapture = _getListeners2.activeListenerWithCapture;\n    var slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, \".\".concat(swiper.params.zoom.containerClass), onTouchMove, activeListenerWithCapture);\n  }\n  function disable() {\n    var zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    var support = swiper.support;\n    zoom.enabled = false;\n    var _getListeners3 = getListeners(),\n      passiveListener = _getListeners3.passiveListener,\n      activeListenerWithCapture = _getListeners3.activeListenerWithCapture;\n    var slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, \".\".concat(swiper.params.zoom.containerClass), onTouchMove, activeListenerWithCapture);\n  }\n  on('init', function () {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', function () {\n    disable();\n  });\n  on('touchStart', function (_s, e) {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', function (_s, e) {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', function (_s, e) {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', function () {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', function () {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable: enable,\n    disable: disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","map":{"version":3,"names":["getWindow","$","getTranslate","Zoom","_ref","swiper","extendParams","on","emit","window","zoom","enabled","maxRatio","minRatio","toggle","containerClass","zoomedSlideClass","currentScale","isScaling","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","gesture","$slideEl","undefined","slideWidth","slideHeight","$imageEl","$imageWrapEl","image","isTouched","isMoved","currentX","currentY","minX","minY","maxX","maxY","width","height","startX","startY","touchesStart","touchesCurrent","velocity","x","y","prevPositionX","prevPositionY","prevTime","scale","Object","defineProperty","get","set","value","imageEl","slideEl","getDistanceBetweenTouches","e","targetTouches","length","x1","pageX","y1","pageY","x2","y2","distance","Math","sqrt","pow","onGestureStart","support","params","gestures","type","scaleStart","target","closest","concat","slideClass","slides","eq","activeIndex","find","parent","attr","transition","onGestureChange","scaleMove","transform","onGestureEnd","device","changedTouches","android","max","min","speed","onTouchStart","cancelable","preventDefault","onTouchMove","allowClick","offsetWidth","offsetHeight","scaledWidth","scaledHeight","isHorizontal","floor","stopPropagation","Date","now","abs","onTouchEnd","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","previousIndex","zoomIn","virtual","$wrapperEl","children","slideActiveClass","cssMode","wrapperEl","style","overflow","touchAction","addClass","touchX","touchY","offsetX","offsetY","diffX","diffY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","offset","left","scrollX","top","scrollY","zoomOut","removeClass","zoomToggle","getListeners","passiveListener","touchEvents","start","passiveListeners","passive","capture","activeListenerWithCapture","getSlideSelector","toggleGestures","method","_getListeners","slideSelector","enableGestures","disableGestures","enable","_getListeners2","end","move","cancel","disable","_getListeners3","off","_s","animating","assign","in","out"],"sources":["/home/vasanthakumaaran/Personal-Portfolio-React/node_modules/swiper/modules/zoom/zoom.js"],"sourcesContent":["import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}